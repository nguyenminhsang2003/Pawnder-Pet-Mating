# üêæ Pawnder - Pet Dating App

**SEP490_G151** - ·ª®ng d·ª•ng h·∫πn h√≤ cho th√∫ c∆∞ng

## üìã M√¥ T·∫£

Pawnder l√† n·ªÅn t·∫£ng k·∫øt n·ªëi ch·ªß nu√¥i th√∫ c∆∞ng, s·ª≠ d·ª•ng thu·∫≠t to√°n matching th√¥ng minh ƒë·ªÉ t√¨m b·∫°n ƒë·ªìng h√†nh ph√π h·ª£p d·ª±a tr√™n ƒë·∫∑c ƒëi·ªÉm, s·ªü th√≠ch v√† kho·∫£ng c√°ch ƒë·ªãa l√Ω.

## ‚ú® T√≠nh NƒÉng Ch√≠nh

### üéØ Matching System
- **Thu·∫≠t to√°n matching th√¥ng minh**: D·ª±a tr√™n preferences, ƒë·∫∑c ƒëi·ªÉm th√∫ c∆∞ng v√† kho·∫£ng c√°ch
- **Swipe cards**: T∆∞∆°ng t√°c tr·ª±c quan ƒë·ªÉ t√¨m th√∫ c∆∞ng ph√π h·ª£p
- **Filter n√¢ng cao**: L·ªçc theo breed, age, characteristics, distance
- **Real-time match notifications**: Th√¥ng b√°o ngay khi c√≥ match
- **Like/Dislike system**: Like th√∫ c∆∞ng v√† nh·∫≠n like t·ª´ ng∆∞·ªùi kh√°c
- **Favorite screen**: Xem danh s√°ch likes v√† matches

### üí¨ Chat System
- **User-to-User Chat**: Chat real-time gi·ªØa ng∆∞·ªùi d√πng ƒë√£ match
- **AI Chat**: T∆∞ v·∫•n v·ªõi Google Gemini AI v·ªÅ chƒÉm s√≥c th√∫ c∆∞ng
- **Expert Chat**: T∆∞ v·∫•n v·ªõi chuy√™n gia th√∫ y
- **Typing indicators & Read receipts**: Tr·∫£i nghi·ªám chat ƒë·∫ßy ƒë·ªß
- **Badge notifications**: Th√¥ng b√°o tin nh·∫Øn m·ªõi

### üìÖ Appointments
- **ƒê·∫∑t l·ªãch h·∫πn g·∫∑p**: T·∫°o appointment v·ªõi th√∫ c∆∞ng ƒë√£ match
- **Counter-offer system**: ƒê·ªÅ xu·∫•t th·ªùi gian/ƒë·ªãa ƒëi·ªÉm kh√°c (t·ªëi ƒëa 3 l·∫ßn)
- **Location picker**: Ch·ªçn ƒë·ªãa ƒëi·ªÉm v·ªõi Google Maps integration
- **Check-in system**: X√°c nh·∫≠n ƒë·∫øn ƒë·ªãa ƒëi·ªÉm h·∫πn
- **Appointment management**: Qu·∫£n l√Ω l·ªãch h·∫πn c·ªßa b·∫°n
- **Auto-expiration**: T·ª± ƒë·ªông x·ª≠ l√Ω appointments qu√° h·∫°n

### üéâ Events
- **Cu·ªôc thi ·∫£nh/video**: Tham gia events v·ªõi th√∫ c∆∞ng
- **Submission & Voting**: Submit entry v√† vote cho submissions kh√°c
- **Leaderboard**: B·∫£ng x·∫øp h·∫°ng real-time
- **Prize system**: Nh·∫≠n ƒëi·ªÉm th∆∞·ªüng khi th·∫Øng
- **Auto-transition**: T·ª± ƒë·ªông chuy·ªÉn tr·∫°ng th√°i events (upcoming ‚Üí active ‚Üí submission_closed ‚Üí voting_ended)

### ü§ñ AI Integration
- **Google Gemini AI**: Chat AI th√¥ng minh v·ªÅ th√∫ c∆∞ng
- **Image Analysis**: Ph√¢n t√≠ch ·∫£nh th√∫ c∆∞ng ƒë·ªÉ g·ª£i √Ω characteristics
- **Smart Recommendations**: G·ª£i √Ω th√∫ c∆∞ng ph√π h·ª£p

### üí≥ Premium & Payment
- **Premium Plans**: N√¢ng c·∫•p t√†i kho·∫£n v·ªõi nhi·ªÅu t√≠nh nƒÉng
- **Payment Integration**: VietQR v√† Sepay
- **Payment History**: Theo d√µi l·ªãch s·ª≠ thanh to√°n
- **Daily Limits**: Gi·ªõi h·∫°n h√†ng ng√†y cho free users (likes, views, messages)
- **Auto-expiration**: T·ª± ƒë·ªông x·ª≠ l√Ω payment h·∫øt h·∫°n

### üë§ User & Pet Management
- **User Profiles**: Qu·∫£n l√Ω th√¥ng tin c√° nh√¢n
- **Pet Profiles**: T·∫°o v√† qu·∫£n l√Ω nhi·ªÅu th√∫ c∆∞ng
- **Pet Photos**: Upload v√† qu·∫£n l√Ω ·∫£nh th√∫ c∆∞ng (Cloudinary)
- **Pet Characteristics**: M√¥ t·∫£ ƒë·∫∑c ƒëi·ªÉm chi ti·∫øt
- **AI Image Analysis**: T·ª± ƒë·ªông ph√¢n t√≠ch ·∫£nh ƒë·ªÉ g·ª£i √Ω characteristics
- **Pet Approval**: Admin approve/reject pets

### üîî Notifications
- **Real-time notifications**: Qua SignalR
- **Match notifications**: Th√¥ng b√°o khi c√≥ match m·ªõi
- **Message notifications**: Th√¥ng b√°o tin nh·∫Øn m·ªõi
- **Event notifications**: Th√¥ng b√°o v·ªÅ events
- **System notifications**: Th√¥ng b√°o h·ªá th·ªëng
- **Broadcast notifications**: Admin g·ª≠i th√¥ng b√°o h√†ng lo·∫°t

### üì¢ Reports & Safety
- **Report System**: B√°o c√°o ng∆∞·ªùi d√πng/th√∫ c∆∞ng kh√¥ng ph√π h·ª£p
- **Block Users**: Ch·∫∑n ng∆∞·ªùi d√πng
- **Bad Word Filtering**: L·ªçc t·ª´ ng·ªØ kh√¥ng ph√π h·ª£p
- **Admin Review**: Admin xem x√©t v√† x·ª≠ l√Ω reports

### üìù Policy Management
- **Policy Versioning**: Qu·∫£n l√Ω c√°c phi√™n b·∫£n policy
- **Policy Acceptance**: Y√™u c·∫ßu user ch·∫•p nh·∫≠n policy
- **Policy History**: L·ªãch s·ª≠ ch·∫•p nh·∫≠n policy
- **Draft Versions**: Qu·∫£n l√Ω draft policies

### üë®‚Äç‚öïÔ∏è Expert Features
- **Expert Registration**: ƒêƒÉng k√Ω tr·ªü th√†nh chuy√™n gia
- **Expert Confirmation**: X√°c nh·∫≠n th√¥ng tin chuy√™n gia
- **Expert Chat**: Chat v·ªõi ng∆∞·ªùi d√πng
- **Expert AI Chat**: AI chat cho chuy√™n gia
- **Expert Notifications**: Qu·∫£n l√Ω th√¥ng b√°o chuy√™n gia

### üñ•Ô∏è Admin Panel
- **User Management**: Qu·∫£n l√Ω users, ban/unban
- **Pet Management**: Approve/reject pets
- **Report Management**: X·ª≠ l√Ω reports
- **Event Management**: T·∫°o v√† qu·∫£n l√Ω events
- **Expert Management**: Qu·∫£n l√Ω chuy√™n gia
- **Dashboard & Analytics**: Th·ªëng k√™ v√† bi·ªÉu ƒë·ªì
- **Payment Management**: Qu·∫£n l√Ω thanh to√°n
- **Policy Management**: Qu·∫£n l√Ω policies
- **Bad Word Management**: Qu·∫£n l√Ω t·ª´ ng·ªØ kh√¥ng ph√π h·ª£p
- **Attribute Management**: Qu·∫£n l√Ω attributes v√† options
- **Notification Broadcasting**: G·ª≠i th√¥ng b√°o h√†ng lo·∫°t

## üèóÔ∏è Ki·∫øn Tr√∫c

```
Mobile App (React Native) ‚îÄ‚îÄ‚îê
                            ‚îú‚îÄ‚îÄ> Backend API (ASP.NET Core 8.0) ‚îÄ‚îÄ> PostgreSQL
Admin Panel (React) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üõ†Ô∏è Tech Stack

- **Backend**: ASP.NET Core 8.0, PostgreSQL, SignalR 1.2.0, OData
- **Mobile**: React Native 0.74.3, React 18.2.0, TypeScript, Redux Toolkit
- **Admin**: React 19.2.0, React Router DOM
- **AI**: Google Gemini AI
- **Storage**: Cloudinary (Images)
- **Email**: Gmail OAuth2 API, Kickbox (Email Verification)
- **Maps**: LocationIQ API

## üöÄ Quick Start

### Prerequisites
- .NET 8.0 SDK
- PostgreSQL 12+
- Node.js >= 18
- (Mobile) Java JDK 17+, Android Studio / Xcode

### Setup

1. **Database**: Xem [database/README.md](./database/README.md)
2. **Backend**: Xem [BackEnd/README.md](./BackEnd/README.md)
3. **Mobile App**: Xem [FE/FE-User/README.md](./FE/FE-User/README.md)
4. **Admin Panel**: Xem [FE/fe-admin/README.md](./FE/fe-admin/README.md)

## ‚öôÔ∏è Configuration

### Backend (`BackEnd/BE/appsettings.json`)
- **ConnectionStrings**: PostgreSQL connection
- **Jwt**: Secret key (32+ k√Ω t·ª±), Issuer, Audience
- **Cloudinary**: Cloud name, API key, API secret
- **GeminiAI**: API key
- **GmailOAuth2Settings**: Client ID, Secret, Access Token, Refresh Token
- **KickboxSettings**: API key (email verification)
- **VietQr/Sepay**: Payment API credentials
- **LocationIQ**: API key

### Frontend
- **Mobile**: `FE/FE-User/src/config/api.config.ts` - C·∫•u h√¨nh API URL theo environment
- **Admin**: T·∫°o `.env` v·ªõi `REACT_APP_API_URL`

## üìö Documentation

- [Backend](./BackEnd/README.md) - Setup, Architecture, Maintenance
- [Database](./database/README.md) - Setup, Migrations, Backup
- [Mobile App](./FE/FE-User/README.md) - Setup, Development, Maintenance
- [Admin Panel](./FE/fe-admin/README.md) - Setup, Development, Maintenance

## üîó API Documentation

Swagger UI: `http://localhost:5297/swagger` (sau khi ch·∫°y Backend)

## üõ†Ô∏è Maintenance Guide

### Th√™m Feature M·ªõi

1. **Backend**:
   - T·∫°o Model trong `BackEnd/BE/Models/`
   - T·∫°o Repository interface v√† implementation
   - T·∫°o Service interface v√† implementation
   - T·∫°o Controller
   - Register trong `Program.cs`

2. **Frontend**:
   - T·∫°o feature folder trong `src/features/`
   - T·∫°o API service
   - T·∫°o components v√† screens
   - Th√™m routes

### Database Changes

1. T·∫°o migration: `dotnet ef migrations add MigrationName`
2. Update database: `dotnet ef database update`
3. Ho·∫∑c update SQL file v√† import l·∫°i

### Testing

- **Backend**: `cd BackEnd/BE.Tests && dotnet test`
- **Frontend**: `npm test` trong t·ª´ng project

### Deployment

1. Build Backend: `dotnet publish -c Release`
2. Build Frontend: `npm run build`
3. Deploy theo h∆∞·ªõng d·∫´n trong t·ª´ng README

## üêõ Troubleshooting

- **Database Error**: Ki·ªÉm tra PostgreSQL ƒëang ch·∫°y v√† connection string
- **CORS Error**: Ki·ªÉm tra CORS config trong `BackEnd/BE/Program.cs` (allowed origins: localhost:3000, localhost:5297)
- **API Connection**: ƒê·∫£m b·∫£o Backend ch·∫°y tr∆∞·ªõc Frontend (port 5297)

---

**Version**: 1.0  
**Last Updated**: 2026-02-02
